function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}window.onload=()=>{var e,i=document.querySelector(".sentence-sub"),n=document.querySelector(".sentence-progress-time"),a=document.querySelector(".sentence-hi"),l=document.querySelector(".sentence-from"),t=[],d=(new Date).getTime();s(),r(),c();function s(){e=new XMLHttpRequest,e.open("GET","https://v1.hitokoto.cn/"),e.send(),e.onreadystatechange=function(){if(e.readyState===4&&e.status===200){var t=JSON.parse(e.responseText);a.innerHTML=t.hitokoto,l.innerHTML="From "+t.from.substr(0,12)}}}function r(){a.style.color=i.style.background=n.style.background=u()}function u(){return"rgb("+o()+","+o()+","+o()+")"}function o(){return Math.floor(Math.random()*81+60)}function c(){t[t.length]=setInterval(function(){n.style.left=n.style.left=="0%"?"100%":"0%",s(),r(),d=(new Date).getTime()},12e3)}addEvent(i,"click",function(){for(var e=0;e<t.length;e++)clearInterval(t[e]);t=[],s(),c()}),setTimeout(function(){n.style.left=""||"100%"},200)}